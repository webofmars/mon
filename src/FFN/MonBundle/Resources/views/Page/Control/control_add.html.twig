{% extends 'FFNMonBundle::layout.html.twig' %}

{% set section = 'control' %}

{% block body %}
<div class="container">
  {% include 'FFNMonBundle:Common:project_headerbar.html.twig' %}
  <div class="row">
    {% if app.session.hasFlash('success_msg') %}
      <div class="alert alert-success">
        {{ app.session.flash('success_msg') }}
      </div>
    {% endif %}
      {% if app.session.hasFlash('error_msg') %}
      <div class="alert alert-error">
        {{ app.session.flash('error_msg') }}
      </div>
    {% endif %}
    
    <div class="container-fluid">
        <form class="form-signin" action="{{ path("mon_control_add", {'id': scenario.id}) }}" method="post">
            <div class="row-fluid"><h2 class="form-signin-heading">{{ 'mon_control_create'|trans({}, 'messages') }}</h2></div>
                <div class="row-fluid">{{ form_row(form.name) }}</div>
                <div class="row-fluid">{{ form_row(form.url) }}</div>
      
                {# form_row(form.controlHeaders) #}
                {# form_row(form.validators)  #}
                {{ form_rest(form) }}
                <div class="row-fluid">
                    <a href="#" id="add_control_header" class="btn">{{ 'mon_control_add_header'|trans({}, 'messages') }}</a><br />
                </div>
                <div class="row-fluid">    
                    <a href="#" id="add_validator" class="btn">{{ 'mon_control_add_validator'|trans({}, 'messages') }}</a><br />
                </div>
                <div class="row-fluid">
                    <button class="btn btn-large btn-primary" type="submit">{{ 'mon_validate'|trans({}, 'messages') }}</button>
                </div>
        </form>
    </div>
  </div>
</div>
{% endblock %}